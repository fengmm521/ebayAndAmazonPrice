<!DOCTYPE html>
<html>
<head>
        <meta http-equiv='Content-Type' content='text/html;charset=utf-8' />
        <link rel='icon' href='/home/wu/lanrenimg/5.gif' />
        <title>比价系统</title>
        <style type='text/css'>
        #login {
                text-align:center;
                padding:5px;
        }
        .must {color:red;}
        .word {text-align:right;margin-right:30px;}
        #regist {
                text-align:center;
                padding:5px;
        }
        #utip,#ptip,#rtip,#mtip {color:red;font-size:10px;}
        #header {
            background-color:black;
            color:white;
            text-align:center;
            padding:5px;
        }
        </style>
        <script>
        function verun()
        {
                var uname=document.getElementById('usename').value;
                if(uname==''||uname==null)
                {
                        document.getElementById('utip').innerHTML='请填写用户名';
                        document.getElementById('usename').focus();
                        return false;
                }
                else 
                {
                        document.getElementById('utip').innerHTML='';
                        return true;
                }
        }
        
        function verpwd()
        {
                var pwd=document.getElementById('pwd').value;
                if(pwd==''||pwd==null)
                {
                        document.getElementById('ptip').innerHTML='请填写密码';
                        document.getElementById('pwd').focus();
                        return false;
                }
                else
                {
                        document.getElementById('ptip').innerHTML='';
                        return true;
                }
        }

        function verrepwd()
        {
                var repwd=document.getElementById('repwd').value;
                var pwd=document.getElementById('pwd').value;
                if(repwd!==pwd)
                {
                        document.getElementById('rtip').innerHTML='密码不一致';
                        document.getElementById('repwd').focus();
                        return false;
                }
                else 
                {
                        document.getElementById('rtip').innerHTML='';
                        return true;
                }
        }

        function vermail()
        {
                var mail=document.getElementById('mail').value;
                if(mail==''||mail==null||mail.indexOf('@')==0||mail.indexOf('.')-mail.indexOf('@')<=1)  //邮箱验证不完善
                {
                        document.getElementById('mtip').innerHTML='请填写有效的邮箱';
                        document.getElementById('mail').focus();
                        return false;
                }
                else
                {
                        document.getElementById('mtip').innerHTML='';
                        return true;
                }
        }

        function check()
        {
                if(verun() && verpwd() && verrepwd() && vermail()==true)
                        return true;
                else 
                {
                        alert('注册失败，请按要求填写信息！')
                        return false;
                }
        }
        function changeURL(){
            // var url = document.getElementById('url').value;
            var url = 'index.html'
            window.history.pushState({},0,'http://'+window.location.host+'/'+url);      
        }
        window.onload = function(){
        
            changeURL() 
        }

        </script>
</head>
<body>
        <div id="header">
        <h1>比价系统</h1>
        </div>
        <div id='login'>
                <form action='./login' onsubmit="return check();" method='post'>
                <table align="center">                
                        <tr>
                                <td></td>
                                <td style="color:#FF0000">用户不存在或密码输入错误</td>
                                <td></td>
                        </tr>
                        <tr>
                                <td><span class='must'>*</span>用户名：</span></td>
                                <td><input type='text' name='usename' id='usename' onblur='verun()' /></td>
                                <td style='width:80px;'><span id='utip'></span></td>
                        </tr>
                        <tr>
                                <td><span class='must'>*</span>密码：</span></td>
                                <td><input type='password' name='pwd' id='pwd' onblur='verpwd()' /></td>
                                <td style='width:80px;'><span id='ptip'></span></td>
                        </tr>
                        <tr>
                                <td colspan='3' style='text-align:center;'><input type='submit' value='登陆' /></td>
                        </tr>
                </table>
                </form>
                <!-- <iframe name='hidden_frame' id="hidden_frame" style='display: none'></iframe> -->
        </div>
        <div id='regist'>
                <form action='./reg.html' onsubmit="" method='get'>
                <table align="center">                
                        <tr>
                                <td colspan='1' style='text-align:center;'><input type='submit' value='注册' /></td>
                        </tr>
                </table>
                </form>
        </div>
<!--  <script>
    var iframe=document.getElementById("hidden_frame");
    iframe.onload= function () {
        var bodycontent=iframe.contentDocument.body.innerText;
        console.log(bodycontent);
        //处理获取到的内容；
        alert(bodycontent)
    }
</script> -->
</body>
</html>